记录一下工作过程：
目前 GAN 的类型有很多种，我就使用MINIST手写数据集制作。
明天早晨的工作：

1. 需要一个MINIST的分类模型
2. MINIST的数据集
3. 测试图片的鲁棒性

另外，要把一个CIFAR10的GAN集成到整个代码中。

rob_predictor完成了

后面就是绘制一张图
mnist_gan 产生一系列的二维图片  构建二维平面
利用预测器求鲁棒性的值

首先是测试单个图片的鲁棒性


50000个数据样本时: 
test set loss: 5.450972323981337
10000个数据样本时:
loss:3.9-4.2
400000个数据样本时:
test set loss: 9-10

目前选取中间层为40,训练集和测试集为50000的模型。
接下来就是把这个模型集成到我的系统中
要考虑输入范围
要把原始图片放在中心

把数据先搞出来

目前已经把升维模型集成到系统中了
未来要做的L：
放大缩小-
-完成了一半，差一个重新渲染，需要修改后台的代码
-拖拽功能的实现
回归模型，先观察一个在各个方向上鲁棒性的变化趋势（折线图）

明日计划：
第一步：把平面绘制出来 把SVD的原理讲清楚  了解一下其他的矩阵分解算法
第二步：关于平面中数据点的解释：主要是要验证解释的结果是正确的。
第三步：读高维空间数据探索相关的论文

今日计划：
做实验验证现有的平面可以覆盖全空间
现在有一个问题是图片显示的时候会有绿色的点，不太合适，后面再想办法改进

明日计划
把descriminater加入到训练过程中

解决图片放大缩小的问题，
把每个特征值对应的变化过程都画出来，并保存在一张图中

明日计划：
把可视化系统左边的界面完善一下
实现放大和缩小的功能
; 
选择一张图片之后，把变化过程给可视化出来
; 暂定是图片
明日计划：
把比例尺添加进去
把缩小和放大重新渲染

现在存在的一个问题就是如何把各种方向进行解耦，
得到更加通用和合适的方向
; 验证一下是不是处处的梯度都差不多
; 并不是处处的梯度都相同，不可以近似

今天把可以测的fid都测了一下,样本越多，gan的fid分数越好

然后，开始训一个SN_GAN

把能做的先做了
不要想太多

首先采样正态分布
然后训练一个二维潜空间
接下来，根据这个二维潜空间重构，

界面设计
加一些按钮，放大，缩小
加一个概率密度的方格
加一个信息面板
加一个历史记录
; 可以求概率密度
; stats.multivariate_normal([0,0],[1,1]).pdf([0,0])
; 概率密度写好了


; 概率密度不能是相对概率密度，应该有一个固定的最大值和最小值
; 可以参考的可视化界面
https://kdd.isti.cnr.it/LSE/
http://vrl.cs.brown.edu/color
; 按钮的链接
https://ionic.io/ionicons
https://www.int.com/demo-gallery/

要加一个discriminater视图：realness/probability density
要加一个图标，是否显示图片，

加一个概率密度的方格
加一个历史记录面板
图片右键：更新中心\查看变化过程

图片显示与不显示之间的切换 已经完成了

好像存在一个问题：contour的地图不更新

; 如何去表达用户的喜好

human perference

https://arxiv.org/pdf/1906.09840.pdf
再读一下human in the loop
https://dl.acm.org/doi/abs/10.1145/3386569.3392409


特征抽取可以使用 wide_resnet50

import torchvision.models as models
wide_resnet50_2 = models.wide_resnet50_2(pretrained=True)